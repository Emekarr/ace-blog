<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/blog.css" />
    <link rel="stylesheet" href="./css/pagination.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/index.css" />
    <link rel="stylesheet" href="/css/nav-style.css" />
    <script src="https://use.fontawesome.com/36d660b0bd.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Nerko+One&display=swap" rel="stylesheet" />
    <title>Ace Blog</title>
</head>

<body>
    <%- include("../partials/_header") %>

        <main class="main-index">
            <div class="blog-container">
                <% results.forEach(result => { %>
                            <div class="article">
                                <h1 class="article-title">
                                    <%= result.title %>
                                </h1>
                                <p class="article-snippet">
                                    <%= result.body %>
                                </p>
                                <div class="bottom-items">
                                    <% var createdAt = result.createdAt.toString().slice(4, 16) %>
                                    
                                    <small class="time-posted"> <%= createdAt.substring(0, 6) + "," + createdAt.substring(6, createdAt.length)  %>  </small>
                                    
                                    <% if(!result.views) { %>
                                        <small class="reads"> <%= "0" + " reads" %> </small>
                                    <% }else{ %>
                                        <small class="reads"> <%= result.views + " reads" %> </small>
                                    <% } %>
                                    
                                </div>
                            </div>
                        <% }) %>
            </div>
        </main>

        <div class="container">
            <div class="data-container"></div>
            <div class="pagination-container"></div>
        </div>

        <div class="container pagination">
            <a href="<%= "/?limit=" + results.limit + "&page=" + results.page %>"><button class="btn btn-login" type="button">load more</button></a>
        </div>
        
        <div class="me"></div>

        <script src="/js/script.js"></script>
        <script src="/js/article.js"></script>
        <script src="/js/pagination.js"></script>
</body>

</html>